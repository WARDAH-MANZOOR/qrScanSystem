
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
import { makeTypedQueryFactory as $mkFactory } from "@prisma/client/runtime/edge.js"
export const getProfitAndBalance = /*#__PURE__*/ $mkFactory("SELECT\nm.merchant_id,\nm.full_name,\nm.company_name,\nCOALESCE(SUM(t.settled_amount), 0) AS total_balance,\nCOALESCE(SUM(t.original_amount - t.settled_amount), 0) AS profit\nFROM\n\"Merchant\" m\nLEFT JOIN\n\"User\" u ON u.id = m.merchant_id\nLEFT JOIN\n\"Transaction\" t ON t.merchant_id = u.id\nLEFT JOIN\n\"MerchantFinancialTerms\" mft on mft.merchant_id = m.merchant_id\nWHERE\nt.date_time BETWEEN $1 AND $2\nAND t.status = 'completed'\nGROUP BY\nm.merchant_id, m.full_name, m.company_name, mft.\"commissionRate\";\n")
