import express from 'express';
import { isAdmin, isLoggedIn } from 'utils/middleware.js';
import disbursementRequestController from "../../controller/disbursementRequest/index.js";
import disbursementRequestValidator from 'validators/disbursementRequest/index.js';
const router = express.Router();
router.post("/", [isLoggedIn, ...disbursementRequestValidator.validateDisbursementRequest], disbursementRequestController.createDisbursementRequest);
router.patch("/status/:requestId", [isLoggedIn, isAdmin, ...disbursementRequestValidator.updateDisbursementRequestStatus], disbursementRequestController.updateDisbursementRequestStatus);
router.get("/", [isLoggedIn], disbursementRequestController.getDisbursementRequests);
router.get("/export", [isLoggedIn], disbursementRequestController.exportDisbursementRequest);
export default router;
